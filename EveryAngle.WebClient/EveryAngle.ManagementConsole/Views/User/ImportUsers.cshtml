@using EveryAngle.ManagementConsole.Models
@using EveryAngle.ManagementConsole.Helpers
@using EveryAngle.Shared.Globalization
@using EveryAngle.Core.ViewModels.Kendo

<script>
    MC.util.loadScript({
        test: MC.Users && MC.Users.User,
        url: '@Scripts.Url("~/bundles/users/user")',
        callback: function () {
            MC.Users.User.InitialImportUsersPage({
                AllUsersPageUri: '@SiteMapHelper.ActionHash("Users/AllUsers")',
                ImportUserUri: '@Url.Action("AddUser","Users")'
            });
        }
    });
</script>

@{
    @Html.RenderPageToolbar(new List<PageToolbarButtonModel>
    {
        new PageToolbarButtonModel
        {
            Type = PageToolbarButtonType.Custom,
            Label =Resource.Save,
            CssClass = "btnPrimary btnSave",
            OnClick = "MC.Users.User.SaveEnableUsers()"
        },
        new PageToolbarButtonModel
        {
            Type = PageToolbarButtonType.Cancel,
            Link = SiteMapHelper.ActionHash("Users/AllUsers")
        }
    })
}

<div class="content pageUser pageUserImport">
    <div class="contentSection contentSectionInfo">
        <h2>@Resource.MC_ImportUser_Add_Users</h2>
        <div class="contentSectionInfoItem contentSectionInfoItemRole">
            <label>@Resource.MC_SetRoles</label>
            <p>
                <select id="UserRoles" multiple="multiple" name="UserRoles" 
                        data-datasource="@ViewData["SystemRoles"]" 
                        data-value="@ViewData["DefaultRoles"]" 
                        style="display: none">
                </select>
            </p>
        </div>
    </div>

    @{Html.RenderAction("RenderImportUserGrid", "Users", new { uri = ViewData["SystemAuthenticationProviderUri"] });}
</div>
<!--/.content-->